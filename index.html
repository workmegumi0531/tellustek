<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      @import url(https://pro.fontawesome.com/releases/v5.10.0/css/all.css);
      @import url(./css/style.css);
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        list-style: none;
        font-family: Arial, Helvetica, sans-serif;
      }
    </style>
    <script></script>
  </head>
  <body>
    <input type="checkbox" id="sreach_click" />

    <div class="container">
      <div class="header">
        <div id="menu_list"><i class="fas fa-th-list"></i></div>
        <div class="h_list"><i class="far fa-user"></i></div>
        <div class="wrap flex">
          <div class="h_a_color">
            <a href="#">FOOSESHOES</a>
          </div>
          <div id="form_flex">
            <form action="">
              <input
                type="search"
                id="search_input"
                placeholder="請輸入關鍵字"
              />
              <label for="sreach_click" class="search_label"
                ><i class="fab fa-sistrix"></i
              ></label>
            </form>
            <p id="login_open">LOGIN or REGISTER</p>

            <form class="login_from">
              <h2>會員登入</h2>
              <div class="login_group">
                <label for="login_user_id">帳號:</label>
                <input type="text" id="login_user_id" />
              </div>
              <div class="login_group">
                <label for="login_user_password">密碼:</label>
                <input type="password" id="login_user_password" />
              </div>
              <div class="btn_group">
                <button class="login_btn">登入</button>
                <button class="login_btn">取消</button>
              </div>
              <div class="login_group_back">
                <a href="#">註冊會員</a>
                <p>/</p>
                <a href="#">找回密碼</a>
              </div>
            </form>
          </div>
        </div>
      </div>
      <div id="menu_nav_out">
        <div id="menu_nav">
          <div id="menu_nav_left">
            <div>Home</div>
            <div>Products</div>
            <div>About</div>
            <div>Pages</div>
            <div>Blog</div>
            <div>Contact</div>
          </div>
          <div id="menu_nev_right">
            <div id="menu_i_item">
              <div><i class="far fa-star"></i></div>
              <div id="st_num">0</div>
            </div>
            <div id="menu_i_item">
              <div id="sc_detail_open">
                <i class="fas fa-shopping-cart"></i>
              </div>
              <div id="sc_num">0</div>
            </div>
            <ul id="sc_detail_hide"></ul>
            <div id="all_delete">全部刪除</div>
          </div>
        </div>
      </div>
      <div id="play_wrap">
        <div class="play" id="play">
          <ul>
            <li>
              <a href="#"><img src="./img/banner-bg (1).png" alt="廣告一" /></a>
              <div id="paly_detail">
                <p>$145.99</p>
                <h1>Pink Shoes</h1>
                <h1>2013 Collection</h1>
                <h3>
                  Lorem ipsum dolor sit amet consectetur adipisicing elit.
                  Nostrum veritatis corrupti voluptatum. Reiciendis, delectus
                  placeat optio odio, quos dolorum fugit laudantium
                </h3>
                <div>
                  <div><i class="far fa-eye"></i></div>
                  <div><i class="far fa-star"></i></div>
                  <div><i class="fas fa-share-square"></i></div>
                  <div><i class="fas fa-shopping-cart"></i></div>
                </div>
              </div>
            </li>
            <li>
              <a href="#"><img src="./img/banner-bg (2).png" alt="廣告2" /></a>
              <div id="paly_detail">
                <p>$145.99</p>
                <h1>Pink Shoes</h1>
                <h1>2013 Collection</h1>
                <h3>
                  Lorem ipsum dolor sit amet consectetur adipisicing elit.
                  Nostrum veritatis corrupti voluptatum. Reiciendis, delectus
                  placeat optio odio, quos dolorum fugit laudantium
                </h3>
                <div>
                  <div><i class="far fa-eye"></i></div>
                  <div><i class="far fa-star"></i></div>
                  <div><i class="fas fa-share-square"></i></div>
                  <div><i class="fas fa-shopping-cart"></i></div>
                </div>
              </div>
            </li>
            <li>
              <a href="#"><img src="./img/banner-bg (3).png" alt="廣告3" /></a>
              <div id="paly_detail">
                <p>$145.99</p>
                <h1>Pink Shoes</h1>
                <h1>2013 Collection</h1>
                <h3>
                  Lorem ipsum dolor sit amet consectetur adipisicing elit.
                  Nostrum veritatis corrupti voluptatum. Reiciendis, delectus
                  placeat optio odio, quos dolorum fugit laudantium
                </h3>
                <div>
                  <div><i class="far fa-eye"></i></div>
                  <div><i class="far fa-star"></i></div>
                  <div><i class="fas fa-share-square"></i></div>
                  <div><i class="fas fa-shopping-cart"></i></div>
                </div>
              </div>
            </li>
            <li>
              <a href="#"><img src="./img/banner-bg (4).png" alt="廣告4" /></a>
              <div id="paly_detail">
                <p>$145.99</p>
                <h1>Pink Shoes</h1>
                <h1>2013 Collection</h1>
                <h3>
                  Lorem ipsum dolor sit amet consectetur adipisicing elit.
                  Nostrum veritatis corrupti voluptatum. Reiciendis, delectus
                  placeat optio odio, quos dolorum fugit laudantium
                </h3>
                <div>
                  <div><i class="far fa-eye"></i></div>
                  <div><i class="far fa-star"></i></div>
                  <div><i class="fas fa-share-square"></i></div>
                  <div><i class="fas fa-shopping-cart"></i></div>
                </div>
              </div>
            </li>
            <li>
              <a href="#"><img src="./img/banner-bg (5).png" alt="廣告5" /></a>
              <div id="paly_detail">
                <p>$145.99</p>
                <h1>Pink Shoes</h1>
                <h1>2013 Collection</h1>
                <h3>
                  Lorem ipsum dolor sit amet consectetur adipisicing elit.
                  Nostrum veritatis corrupti voluptatum. Reiciendis, delectus
                  placeat optio odio, quos dolorum fugit laudantium
                </h3>
                <div>
                  <div><i class="far fa-eye"></i></div>
                  <div><i class="far fa-star"></i></div>
                  <div><i class="fas fa-share-square"></i></div>
                  <div><i class="fas fa-shopping-cart"></i></div>
                </div>
              </div>
            </li>
          </ul>
        </div>
      </div>
      <div id="menu_out">
        <div class="menu" id="menu">
          <ol>
            <li class="active">
              <div class="bar">
                <p></p>
              </div>
              <h2>Pink Shoes</h2>
              <h5>Now af $145.99</h5>
            </li>
            <li>
              <div class="bar">
                <p></p>
              </div>
              <h2>Anna Field</h2>
              <h5>Limited Edition</h5>
            </li>
            <li>
              <div class="bar">
                <p></p>
              </div>
              <h2>Prada</h2>
              <h5>Summer is coming</h5>
            </li>
            <li>
              <div class="bar">
                <p></p>
              </div>
              <h2>Casadei</h2>
              <h5>All Colors avaiable</h5>
            </li>
            <li>
              <div class="bar">
                <p></p>
              </div>
              <h2>Mellow Yellow</h2>
              <h5>Free delivery</h5>
            </li>
          </ol>
        </div>
      </div>
      <div id="img_title_out">
        <div id="img_title_wrap">
          <div id="img_title">
            <div id="img_title_item">
              <a href="#">
                <div id="img_title_pic">
                  <img
                    src="./img/img_title/product(1).png"
                    alt=""
                    width="300"
                    height="180"
                  />
                  <div id="img_title_txt">
                    <p>ON SALE</p>
                  </div>
                </div>
              </a>
            </div>
            <div id="img_title_item">
              <a href="#">
                <div id="img_title_pic">
                  <img
                    src="./img/img_title/product(1).png"
                    alt=""
                    width="300"
                    height="180"
                  />
                  <div id="img_title_txt">
                    <p>SPECIAL OFFERS</p>
                  </div>
                </div>
              </a>
            </div>
            <div id="img_title_item">
              <a href="#">
                <div id="img_title_pic">
                  <img
                    src="./img/img_title/product(1).png"
                    alt=""
                    width="300"
                    height="180"
                  />
                  <div id="img_title_txt">
                    <p>MUST HAVE</p>
                  </div>
                </div>
              </a>
            </div>
          </div>
        </div>
      </div>
      <div id="Best_month_out">
        <div id="Best_month_wrap">
          <div id="Best_month">
            <div id="B_m_top">
              <h2>Best sellers of the month</h2>
              <a href="#">Show All</a>
            </div>
            <div id="B_m_bottom"></div>
          </div>
        </div>
      </div>
      <div id="addon_out">
        <div id="addon">
          <div id="addon_item">
            <div id="addon_item_1">
              <div>
                <h4>1 FREE SHIPPING</h4>
                <p>
                  Vivamus metus turpis, bibendum vitae euismod vel, vulputate
                  vel nibh. Class aptent taciti sociosqu ad litora torquent per
                  conubia nostra, per inceptos himenaeos. Donec erat sem,
                </p>
              </div>
              <div>
                <p>FREE SHIPPING</p>
                <p>
                  Vivamus metus turpis, bibendum vitae euismod vel, vulputate
                  vel nibh. Class aptent taciti sociosqu ad litora torquent per
                  conubia nostra, per inceptos himenaeos. Donec erat sem,
                </p>
              </div>
            </div>
            <div id="addon_item_2">
              <h4>2 TESTIMONIALS</h4>
              <p>
                vel, vulputate vel nibh. Class aptent taciti sociosqu ad litora
                torquent per conubia nostra, per inceptos himenaeos. Donec erat
                sem, vehicula id dictum sit [...]<br />
              </p>
              <span class="addon_span">- John Doe -</span>
            </div>
            <div id="addon_item_3">
              <h4>3 BLOG NEWS</h4>
              <div id="addon_item_4_in">
                <div>
                  <p>APR</p>
                  <p>01</p>
                </div>
                <p>
                  <span id="addon_fw1"
                    >Nice & clean. The best for you blog! </span
                  ><br />
                  Vivamus metus turpis, bibendum vitae euismod vel, vulputate
                  vel
                </p>
              </div>
              <div id="addon_item_4_in">
                <div>
                  <p>APR</p>
                  <p>01</p>
                </div>
                <p>
                  <span id="addon_fw2">What an Ecommerce theme!</span> <br />
                  Vulputate vel nibh. Class aptent taciti sociosqu ad litora
                </p>
              </div>
            </div>
            <div id="addon_item_4">
              <h4>4 BLOG NEWS</h4>
              <div id="addon_item_4_in">
                <div>
                  <p>APR</p>
                  <p>01</p>
                </div>
                <p>
                  <span id="addon_fw3"
                    >Nice & clean. The best for you blog! </span
                  ><br />
                  Vivamus metus turpis, bibendum vitae euismod vel, vulputate
                  vel
                </p>
              </div>
              <div id="addon_item_4_in">
                <div>
                  <p>APR</p>
                  <p>01</p>
                </div>
                <p>
                  <span id="addon_fw4">What an Ecommerce theme!</span> <br />
                  Vulputate vel nibh. Class aptent taciti sociosqu ad litora
                </p>
              </div>
            </div>
            <div id="addon_item_5">
              <h5>5 TESTIMONIALS</h5>
              <p>
                vel, vulputate vel nibh. Class aptent taciti sociosqu ad litora
                torquent per conubia nostra, per inceptos himenaeos. Donec erat
                sem, vehicula id dictum sit [...]<br />
              </p>
              <span class="addon_span">- John Doe -</span>
            </div>
          </div>
        </div>
      </div>
      <div id="footer_out">
        <div id="footer">
          <div>
            <p>Copy&copy;Fooseshoes 2013</p>
            <p>Designed by EthanShang</p>
          </div>
          <div>
            <ul>
              <li><a href="#">Home</a></li>
              <li><a href="#">Support</a></li>
              <li><a href="#">Terms and Conditions</a></li>
              <li><a href="#">Faqs</a></li>
              <li><a href="#">Contact us</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div id="icon_transform"><i class="fas fa-shopping-cart"></i></div>
    </div>
    <script src="./js/jquery-3.5.1.js"></script>
    <script src="./js/jquery.cookie.js"></script>
    <script src="./js/jquery-parabola.js"></script>
    <script src="./js/main.js"></script>
    <script>
      $(function () {
        sc_num();
        sc_msg();
        $.ajax({
          url: "img_title.json",
          // dataType: "json",
          success: function (arr) {
            for (var i = 0; i < arr.length; i++) {
              var B_m_bottom = $(
                ` <div id="B_m_item">
              <img src="${arr[i].img}" alt="" width="330" />
              <div id="B_m_p_detail">
                <p>${arr[i].price}</p>
                <h3>${arr[i].title}</h3>
                <div id="B_m_icon_item">
                  <i class="icon_click far fa-eye" id="i_eye"></i>
                  <i class="icon_click far fa-star" id="i_st"></i>
                  <i class="icon_click fas fa-share-square" id="i_ss"></i>
                  <i class="icon_click fas fa-shopping-cart" id="${arr[i].id}"></i>
                  <p class="o_o_s_n">OUT OF STOCK</p>
                </div>
              </div>
            </div>`
              );
              B_m_bottom.appendTo("#B_m_bottom");
            }
          },
          error: function (msg) {
            console.log(msg);
          },
        });

        $("#B_m_bottom").on("click", "#i_eye", function () {
          alert("已成功關注");
        });
        $("#B_m_bottom").on("click", "#i_st", function () {
          alert("已加入最愛");
        });
        $("#B_m_bottom").on("click", "#i_ss", function () {
          alert("已分享成功");
        });
        $("#B_m_bottom").on("click", ".fa-shopping-cart", function () {
          sh_c_move(this);
          var id = this.id;
          var first = $.cookie("products") == null ? true : false;

          if (first) {
            var arr = [{ id: id, num: 1 }];
            $.cookie("products", JSON.stringify(arr), {
              expires: 7,
            });
          } else {
            var cookieStr = $.cookie("products");
            var cookieArr = JSON.parse(cookieStr);
            var same = false;

            for (var i = 0; i < cookieArr.length; i++) {
              if (id == cookieArr[i].id) {
                same = true;
                cookieArr[i].num++;
                break;
              }
            }
            if (!same) {
              cookieArr.push({ id: id, num: 1 });
            }
            $.cookie("products", JSON.stringify(cookieArr), {
              expires: 7,
            });
          }
          sc_num();
          sc_msg();
          // alert("已成功加入購物車");
        });
        function sc_msg() {
          $("#menu_nev_right ul").empty();
          $.ajax({
            url: "img_title.json",
            success: function (arr) {
              var cookieStr = $.cookie("products");
              var newArr = [];
              if (cookieStr) {
                var cookieArr = JSON.parse(cookieStr);
                for (var i = 0; i < arr.length; i++) {
                  for (var j = 0; j < cookieArr.length; j++) {
                    if (arr[i].id == cookieArr[j].id) {
                      arr[i].num = cookieArr[j].num;
                      newArr.push(arr[i]);
                    }
                  }
                }
                for (var i = 0; i < newArr.length; i++) {
                  var node = $(`
                      <li>
                        <div id="sc_product_pic">
                          <img src="${newArr[i].img}" alt="" />
                        </div>
                        <div id="sc_detail_in">
                          <div id="sc_product_title">${newArr[i].title}</div>
                          <div id="sc_product_money">${newArr[i].price}</div>
                          <div id="sc_product_Num">商品數量:${newArr[i].num}</div>
                          <div id="sc_product_dBtn">刪除</div>
                        </div>

                      </li>

                    `);
                  node.appendTo("#menu_nev_right ul");
                }
              }
            },
          });
        }
        $("#sc_detail_open").click(function () {
          $("#sc_detail_hide").stop(true).show().css({ "z-index": 1 });
        });
        $("#sc_detail_hide").mouseleave(function () {
          $("#sc_detail_hide").stop(true).hide().css({ "z-index": -1 });
        });

        function sc_num() {
          var cookieStr = $.cookie("products");
          if (cookieStr) {
            var cookieArr = JSON.parse(cookieStr);
            var sum = 0;

            for (var i = 0; i < cookieArr.length; i++) {
              sum = sum + cookieArr[i].num;
            }
            $("#sc_num").html(sum);
          } else {
            $("#sc_num").html(0);
          }
        }
        function sh_c_move(oBtn) {
          $("#icon_transform").css({
            display: "block",
            left: $(oBtn).offset().left,
            top: $(oBtn).offset().top,
          });

          var X =
            $("#sc_detail_open").offset().left -
            $("#icon_transform").offset().left;
          var Y =
            $("#sc_detail_open").offset().top -
            $("#icon_transform").offset().top;

          var bola = new Parabola({
            el: "#icon_transform",
            offset: [X, Y],
            duration: 2000,
            curvature: 0.003,
            callback: function () {
              $("#icon_transform").hide();
            },
          });
          bola.start();
        }
        $("#all_delete").click(function () {
          $.cookie("products", null);
          sc_num();
          sc_msg();
        });
        $("#menu_nev_right ul").on("click", "#sc_product_dBtn", function () {
          var id = $(this).closest("li").remove().attr("id");
          var cookieStr = $.cookie("products");
          var cookieArr = JSON.parse(cookieStr);
          for (var i = 0; i < cookieArr.length; i++) {
            if (cookieArr[i].id == id) {
              cookieArr.splice(i, 1);
              break;
            }
          }
          if (!cookieArr.length) {
            $.cookie("products", null);
            // $.removeCookie("products");
            // $.cookie("products", null, { path: "/" });
          } else {
            $.cookie("products", JSON.stringify(cookieArr), {
              expires: 7,
            });
          }

          sc_num();
        });
      });
    </script>
  </body>
</html>
